<!DOCTYPE html>
<html lang="pt-br" ng-app="fichaCadastral">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Document</title>

    <link rel="stylesheet" type="text/css" href="ficha.css">
    <link rel="stylesheet" type="text/css" href="lib/node_modules/angular-ui-bootstrap/dist/ui-bootstrap-csp.css">
    <link rel="stylesheet" type="text/css" href="lib/bootstrap-4.1.3/dist/css/bootstrap.css">

    <script type="module" src="integracaoMail.js"></script>

    <script src="lib/angular-1.8.2/angular.min.js"></script>
    <script src="js/ngMask.min.js"></script>
    <script src="fichaCtrl.js"></script>
</head>

<body ng-controller="fichaCtrl">
    <div class="title">
        <img src="img/logo.png" alt="logo">Edificio Magno
    </div>
    <form class="formFicha">
        <div class="main">
            <div>

                <h4>Ficha de Cadastro</h4>

                <div class="left">

                    <table class="table">
                        <td class="align-middle" name="nome"><span class="obrigatorio">*</span>Nome</td>
                        <tr>

                            <td>
                                <input ng-model="ficha.nome" class="form-control input" type="text" placeholder="Nome"
                                    required>
                            </td>
                        </tr>

                        <!--cpf-->
                        <td class="align-middle" name="cpf"><span class="obrigatorio">*</span>CPF</td>
                        <tr>
                            <td>
                                <input ng-model="ficha.cpf" type="text" mask="999.999.999-99" class="form-control input"
                                    placeholder="CPF" required>
                            </td>
                        </tr>

                        <td class="align-middle" name="rg"><span class="obrigatorio">*</span>RG</td>
                        <tr>
                            <td>
                                <input ng-model="ficha.rg" mask="9999999" class="form-control input" type="text"
                                    placeholder="RG" required>
                            </td>
                        </tr>

                        <td class="align-middle" name="dataNascimento"><span class="obrigatorio">*</span>Data de
                            nascimento</td>
                        <tr>
                            <td>
                                <input ng-model="ficha.dataNascimento" class="form-control input" type="date" required>
                            </td>
                        </tr>

                        <td class="align-middle" name="decricao">Descrição</td>
                        <tr>
                            <td>
                                <input ng-model="ficha.descricao" class="form-control input" type="text"
                                    placeholder="Descrição" required>
                            </td>
                        </tr>

                        <td class="align-middle" name="telefone"><span class="obrigatorio">*</span>Telefone</td>
                        <tr>
                            <td>
                                <input ng-model="ficha.telefone" mask="(99) 9? 9999-9999" class="form-control input"
                                    type="text" placeholder="Telefone" required>
                            </td>
                        </tr>


                    </table>
                </div>

                <div class="rigth">
                    <table class="table">

                        <td class="align-middle label" id="label" name="email"><span class="obrigatorio">*</span>E-mail
                        </td>
                        <tr>
                            <td>
                                <input ng-model="ficha.email" repeat="30" ng-maxlength="30" class="form-control input"
                                    type="email" placeholder="E-mail" required>
                            </td>
                        </tr>

                        <td class="align-middle label" id="label" name="autorizacao"><span
                                class="obrigatorio">*</span>Autorização</td>
                        <tr>
                            <td>
                                <select ng-model="ficha.autorizacao" class="form-control input" name="autorizacao"
                                    required>
                                    <option value="">Selecione</option>
                                    <option>Autorizado</option>
                                    <option>Não autorizado</option>
                                </select>
                            </td>
                        </tr>

                        <td class="align-middle label" id="label" name="veiculo">Veículo</td>
                        <tr>
                            <td>
                                <input ng-model="ficha.veiculo" class="form-control input" mask="@@@-9999" type="text"
                                    placeholder="Placa" required>
                            </td>
                        </tr>

                        <td class="align-middle label" id="label" name="dataEntrada"><span
                                class="obrigatorio">*</span>Data</td>
                        <tr>
                            <td>
                                <input ng-model="ficha.dataEntrada" class="form-control input" type="date" required>
                            </td>
                        </tr>

                        <td class="align-middle label" id="label" name="hora"><span class="obrigatorio">*</span>Hora
                        </td>
                        <tr>
                            <td>
                                <input ng-model="ficha.hora" class="form-control input" type="time" required>
                            </td>
                        </tr>

                        <td class="align-middle label" id="label" name="casa"><span class="obrigatorio">*</span>Casa
                        </td>
                        <tr>
                            <td>
                                <input ng-model="ficha.casa" class="form-control input" type="text" placeholder="Casa"
                                    required>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </form>
    <div class="footer">
        <td>
            <button
                ng-disabled="!ficha.nome || !ficha.cpf || !ficha.rg || !ficha.dataNascimento || !ficha.email || !ficha.autorizacao || !ficha.dataEntrada || !ficha.hora || !ficha.casa "
                class="btn btn-dark botao" ng-click="cadastrar(ficha)" onclick="">Salvar</button>
        </td>
    </div>

    <div class="listagem ">
        <table class="table" style="font-weight: bold;">
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>CPF</th>
                <th>RG </th>
                <th>Data de nascimento</th>
                <th>Descrição</th>
                <th>Telefone</th>
                <td>Autorização</td>
                <td>Veículo</td>
                <td>Data</td>
                <td>Hora</td>
                <td>Casa</td>

            </tr>
            <tr ng-repeat="ficha in cadastro" style="font-weight: normal;">
                <td>{{$index+1}}</td>
                <td>{{ficha.nome}}</td>
                <td>{{ficha.cpf}}</td>
                <td>{{ficha.rg}}</td>
                <td>{{ficha.dataNascimento | date:'dd-MM-yyyy'}}</td>
                <td>{{ficha.descricao}}</td>
                <td>{{ficha.email}}</td>
                <td>{{ficha.autorizacao}}</td>
                <td>{{ficha.veiculo}}</td>
                <td>{{ficha.dataEntrada | date:'dd-MM-yyyy'}}</td>
                <td>{{ficha.hora | date:'h:mma'}}</td>
                <td>{{ficha.casa}}</td>
            </tr>
        </table>
    </div>

</body>

</html>